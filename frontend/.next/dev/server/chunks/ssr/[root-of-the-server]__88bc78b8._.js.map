{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/Myself/ai-form-generator/frontend/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\ninterface Form {\r\n  _id: string;\r\n  title: string;\r\n  prompt: string;\r\n  metadata: {\r\n    category?: string;\r\n    fieldCount?: number;\r\n    hasImageUpload?: boolean;\r\n    tags?: string[];\r\n  };\r\n  createdAt: string;\r\n  submissionCount?: number;\r\n}\r\n\r\nexport default function Dashboard() {\r\n  const [forms, setForms] = useState<Form[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState<any>(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      const token = localStorage.getItem('token');\r\n      const userData = localStorage.getItem('user');\r\n      \r\n      if (!token) {\r\n        router.push('/auth/login');\r\n        return;\r\n      }\r\n\r\n      if (userData) {\r\n        setUser(JSON.parse(userData));\r\n      }\r\n\r\n      fetchForms(token);\r\n    }\r\n  }, [router]);\r\n\r\n  const fetchForms = async (token: string) => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/forms/my-forms', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      const data = await response.json();\r\n      setForms(data.forms || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch forms:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n    }\r\n    router.push('/auth/login');\r\n  };\r\n\r\n  const getCategoryColor = (category: string = 'General') => {\r\n    const colors: Record<string, string> = {\r\n      'HR & Recruitment': 'from-purple-500 to-pink-500',\r\n      'Education': 'from-green-500 to-teal-500',\r\n      'Healthcare': 'from-red-500 to-orange-500',\r\n      'Customer Service': 'from-blue-500 to-cyan-500',\r\n      'E-commerce': 'from-yellow-500 to-orange-500',\r\n      'Authentication': 'from-indigo-500 to-purple-500',\r\n      'General': 'from-gray-500 to-gray-600'\r\n    };\r\n    return colors[category] || colors['General'];\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"relative w-24 h-24 mx-auto mb-4\">\r\n            <div className=\"absolute inset-0 border-4 border-blue-200 rounded-full\"></div>\r\n            <div className=\"absolute inset-0 border-4 border-blue-600 rounded-full border-t-transparent animate-spin\"></div>\r\n          </div>\r\n          <p className=\"text-xl font-semibold text-gray-700\">Loading your forms...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\r\n      {/* Navigation Bar */}\r\n      <nav className=\"bg-white/80 backdrop-blur-xl shadow-lg border-b border-gray-200 sticky top-0 z-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center h-20\">\r\n            {/* Logo */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg\">\r\n                <svg className=\"w-7 h-7 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n                  AI Form Generator\r\n                </h1>\r\n                <p className=\"text-xs text-gray-500\">{user?.email}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex items-center gap-4\">\r\n              <Link\r\n                href=\"/create-form\"\r\n                className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center gap-2\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n                </svg>\r\n                Create Form\r\n              </Link>\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-100 transition font-medium\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        {/* Header */}\r\n        <div className=\"mb-10\">\r\n          <h2 className=\"text-4xl font-bold text-gray-800 mb-2\">My Forms</h2>\r\n          <p className=\"text-gray-600 text-lg\">\r\n            {forms.length === 0 ? 'Create your first AI-powered form' : `You have ${forms.length} form${forms.length !== 1 ? 's' : ''}`}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Forms Grid */}\r\n        {forms.length === 0 ? (\r\n          <div className=\"text-center py-20 bg-white rounded-2xl shadow-xl border border-gray-100\">\r\n            <div className=\"w-24 h-24 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n              <svg className=\"w-12 h-12 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-2xl font-bold text-gray-800 mb-3\">No forms yet</h3>\r\n            <p className=\"text-gray-600 mb-8 max-w-md mx-auto\">\r\n              Get started by creating your first AI-powered form using natural language\r\n            </p>\r\n            <Link\r\n              href=\"/create-form\"\r\n              className=\"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n              </svg>\r\n              Create Your First Form\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {forms.map((form) => (\r\n              <div\r\n                key={form._id}\r\n                className=\"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 border border-gray-100 transform hover:-translate-y-1 group\"\r\n              >\r\n                {/* Category Badge */}\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <span className={`px-4 py-1.5 rounded-full text-xs font-semibold text-white bg-gradient-to-r ${getCategoryColor(form.metadata?.category)}`}>\r\n                    {form.metadata?.category || 'General'}\r\n                  </span>\r\n                  <div className=\"text-xs text-gray-400\">\r\n                    {formatDate(form.createdAt)}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Title */}\r\n                <h3 className=\"text-xl font-bold text-gray-800 mb-2 line-clamp-1 group-hover:text-blue-600 transition\">\r\n                  {form.title}\r\n                </h3>\r\n\r\n                {/* Description */}\r\n                <p className=\"text-gray-600 text-sm mb-4 line-clamp-2 h-10\">\r\n                  {form.prompt}\r\n                </p>\r\n\r\n                {/* Stats */}\r\n                <div className=\"flex items-center justify-between py-4 border-y border-gray-100 mb-4\">\r\n                  <div className=\"flex items-center gap-2 text-gray-600\">\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                    </svg>\r\n                    <span className=\"text-sm font-medium\">{form.metadata?.fieldCount || 0} fields</span>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 text-blue-600\">\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n                    </svg>\r\n                    <span className=\"text-sm font-bold\">{form.submissionCount || 0} responses</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Tags */}\r\n                {form.metadata?.tags && form.metadata.tags.length > 0 && (\r\n                  <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                    {form.metadata.tags.slice(0, 3).map((tag, idx) => (\r\n                      <span key={idx} className=\"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full\">\r\n                        #{tag}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Action Buttons */}\r\n                <div className=\"flex gap-2\">\r\n                  <Link\r\n                    href={`/form/${form._id}`}\r\n                    className=\"flex-1 text-center bg-gray-100 text-gray-700 py-2.5 rounded-xl hover:bg-gray-200 transition font-semibold text-sm\"\r\n                  >\r\n                    View Form\r\n                  </Link>\r\n                  <Link\r\n                    href={`/form/${form._id}/submissions`}\r\n                    className=\"flex-1 text-center bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2.5 rounded-xl hover:from-blue-700 hover:to-purple-700 transition font-semibold text-sm shadow-md\"\r\n                  >\r\n                    Submissions\r\n                  </Link>\r\n                </div>\r\n\r\n                {/* Image Upload Indicator */}\r\n                {form.metadata?.hasImageUpload && (\r\n                  <div className=\"mt-3 flex items-center gap-2 text-xs text-purple-600\">\r\n                    <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\" d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                    <span className=\"font-medium\">Supports file uploads</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}